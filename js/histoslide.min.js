(function(e){"use strict";var t={stateId:0,data:{},slideTo:function(e,n){var r=e.closest("section").attr("id");e.addClass("slide-left").parent().addClass("slide").find("."+n).removeClass("slide-right").addClass("active");t.runCharts(e.closest(".container").find("."+n+" .chart"));t.pushState(r,n)},slideBack:function(e){var n=e.closest("section").attr("id");e.addClass("slide-right").removeClass("active").parent().removeClass("slide").find(".slide-left").removeClass("slide-left");t.pushState(n)},scrollPage:function(e,t,n){var r=$("#navbar").height();t=typeof t=="undefined"?1e3:t;n=typeof n=="undefined"?0:n;setTimeout(function(){$("html,body").animate({scrollTop:e.offset().top-r},t,"easeInOutQuart")},n)},runCharts:function(e){e.each(function(e,t){var n=$(t),r={segmentShowStroke:!1,percentageInnerCutout:90},i=[{value:parseInt(n.attr("data-value"),10),color:"#1C3A36"},{value:100-parseInt(n.attr("data-value"),10),color:"#eeeeee"}],s=n.find("canvas"),o=s.get(0).getContext("2d");o.clearRect(0,0,s.width(),s.height());setTimeout(function(){(new Chart(o)).Doughnut(i,r)},1500)})},pushState:function(t,n){var r=["row","active","slide-right"],i=$("#"+t),s=i.find(".active"),o=!1,u,a,f;if(typeof n=="undefined"){if(s.length){f=s.attr("class").split(/\s+/);$.each(f,function(e,t){if($.inArray(t.trim(),r)===-1){n=t;o=!0}})}}else o=!0;if(o){u=n;a="/"+t+"/"+n}else{u=t;a="/"+t}if(typeof t!="undefined")if(e.history.state===null||e.history.state.hasOwnProperty("url")&&e.history.state.url!==a){console.log("Pushing: "+a);history.pushState({url:a},u,a)}},init:function(){e.onpopstate=function(t){var n=location.pathname.split("/"),r=n[1],i=n.length>2?n[2]:"",s=$("#"+r),o=s.find(".active"),u;if(s.length){e.PortfolioJS.histoslide.scrollPage(s);if(i!==""){u=$(s.find("article."+i));u.length&&setTimeout(function(){e.PortfolioJS.histoslide.slideTo($(s).find("article.slider-nav"),i);e.PortfolioJS.histoslide.pushState(r,i)},1100)}else o.length&&e.PortfolioJS.histoslide.slideBack(o)}}}};typeof e.PortfolioJS=="undefined"&&(e.PortfolioJS={});e.PortfolioJS.histoslide=t;e.PortfolioJS.histoslide.init()})(this.window||this);